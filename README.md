# 抖音个人主页监控器使用说明

## 功能介绍

本监控器提供两种界面：
1. **Web界面** (推荐) - 现代化的浏览器界面
2. **桌面界面** - 传统的Tkinter桌面应用

主要功能：
- 定时监控抖音个人主页
- 检测5分钟内发布的新视频
- 自动提示新视频发布
- 自动下载新发布的视频
- 支持多个主页同时监控

## 快速开始

### 1. 启动Web界面 (推荐)

```bash
python web_monitor.py
```

启动后访问：http://localhost:5000

### 2. 启动桌面界面

```bash
python douyin_monitor.py
```

## 配置说明

### Cookie获取

1. 打开浏览器，登录抖音网页版
2. 按F12打开开发者工具
3. 切换到Network标签
4. 刷新页面
5. 找到任意请求，查看Request Headers
6. 复制Cookie字段的值

### 主要配置项

- **Cookie**: 抖音登录凭证，必须配置
- **检查间隔**: 默认300秒(5分钟)，可根据需要调整
- **下载路径**: 视频保存位置，默认为"./下载"

## 使用步骤

### Web界面操作

1. **配置设置**
   - 在"配置设置"区域输入Cookie
   - 设置检查间隔和下载路径
   - 点击"保存配置"

2. **添加监控主页**
   - 在"个人主页管理"区域输入抖音主页URL或用户ID
   - 点击"添加主页"
   - 支持的格式：
     - 完整URL: https://www.douyin.com/user/MS4wLjABAAAA...
     - 用户ID: MS4wLjABAAAA...

3. **开始监控**
   - 点击"开始监控"按钮
   - 系统将每隔设定时间检查一次所有主页
   - 在"运行日志"区域查看监控状态

4. **查看结果**
   - 主页列表显示每个主页的监控状态
   - 发现新视频时会显示通知
   - 新视频将自动下载到指定目录

### 桌面界面操作

操作方式与Web界面类似，但使用传统的桌面窗口界面。

## 注意事项

1. **Cookie有效性**
   - Cookie有时效性，失效后需要重新获取
   - 建议定期更新Cookie

2. **检查频率**
   - 不建议设置过短的检查间隔
   - 频繁请求可能导致IP被限制

3. **网络环境**
   - 确保网络连接稳定
   - 某些网络环境可能需要代理设置

4. **存储空间**
   - 确保下载目录有足够的存储空间
   - 定期清理不需要的视频文件

## 故障排除

### 常见问题

1. **无法获取视频列表**
   - 检查Cookie是否正确
   - 检查网络连接
   - 尝试重新获取Cookie

2. **下载失败**
   - 检查aria2c是否正常工作
   - 检查下载路径是否存在
   - 查看日志了解具体错误

3. **监控停止**
   - 查看运行日志中的错误信息
   - 检查系统资源使用情况
   - 重启监控程序

### 日志文件

- Web版本：`web_monitor.log`
- 桌面版本：`monitor.log`

## 技术支持

如遇到问题，请：
1. 查看运行日志
2. 检查配置是否正确
3. 确认网络环境正常
4. 尝试重启程序

## 更新说明

- 支持多主页同时监控
- 自动检测新视频发布
- 现代化Web界面
- 实时状态监控
- 自动下载功能